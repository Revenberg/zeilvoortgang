---
- name: ansible-role-mysql
  hosts: localhost
  become: true
  gather_facts: true

  roles:
    - role: ansible-role-mysql 
      mysql_port: 3307
      mysql_databases:
        - name: zeilvoortgang
          encoding: utf8
          collation: utf8_bin
        - name: zeilvoortgang
          initial_import: ~/ansible/roles/ansible-role-mysql/files/import.sql
      mysql_users:
        - name: zeilvoortgang
          password: zeilvoortgang
          priv: "zeilvoortgang.*:ALL"
          update_password: on_create

    - role: importSQL

    - role: ansible-java

    - role: build_application

    - role: run_application